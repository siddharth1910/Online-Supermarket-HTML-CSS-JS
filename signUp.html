<!DOCTYPE html>

<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>SignUp</title>
    <link rel="stylesheet" href="style1.css">
    
    
  </head>
  <body>
      <div class="logo">
          <h3>
              BitSMart
          </h3>
      </div>
      <div class="center">
          <h1>Sign Up</h1>
          <form method="post" id="form">
              <div class="radio">


                 
              </div>
              <div class="txt_field">
                  <input type="text" id="name" required>
                  <span></span>
                  <label>Full Name</label>
              </div>
              <div class="txt_field">
                  <input type="text" id="email" required>
                  <span></span>
                  <label>Email</label>
              </div>
              <div class="txt_field">
                  <input type="number" id="mobile" required>
                  <span></span>
                  <label>Phone Number</label>
              </div>


              <div class="txt_field">
                  <input type="password" id="password" required>

                  <span></span>
                  <i class="bi bi-eye-slash" id="togglePassword"></i>
                  <label>Password</label>
              </div>

              <p id="userSubmit"> Sign Up</p>
              <div class="signup_link">
                  Already a member? <a href="login.html">Sign in</a>
              </div>

          </form>
      </div>
      <div class="rect"></div>
      <div class="oval1"></div>
      <div class="oval2"></div>
      <img src="grocery-cart.png" alt="" class="imag">

      <!--<script src="signup.js"></script>-->
      <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
      <script>
          const submitInput = document.getElementById("userSubmit")
          const nameInput = document.getElementById("name");
          const mobileInput = document.getElementById("mobile");

          const emailInput = document.getElementById("email");
          const passwordInput = document.getElementById("password");
          submitInput.addEventListener("click", () => {
              const email = emailInput.value;
              const password = passwordInput.value;
              const mobile = toString(mobileInput.valueAsNumber);
              const name = nameInput.value
              console.log(email, password, mobile, name)
              axios.post("http://localhost:8080/user/signup",
                  {
                      "firstName": name,
                      "lastName": "",
                      "email": email,
                      "password": password,
                      "phoneNumber": mobile,
                      "walletBalance": 100
                  }
              )
                  .then((response) => {
                    window.location.replace('/login.html')
                  })
                  .catch(err => alert("backend error"));
          });

      </script>


  </body>
</html>
